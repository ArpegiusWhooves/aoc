use std::str::FromStr;

grammar;

Num: i32 = <s:r"[-0-9]+"> => i32::from_str(s).unwrap();
 
ValveName = <r"[A-Z][A-Z]">;


Comma<T>: Vec<T> = 
    <mut v:( <T> "," )*> <e:T> => { v.push(e); v };

ValveNames = Comma<ValveName>;

ValveRate = "has" "flow" "rate" "=" <Num> ";" r"tunnel(s?)" r"lead(s?)" "to" r"valve(s?)" <ValveNames>;

Valve = "Valve" <ValveName> <ValveRate>;

pub Valves = <Valve*>;
